# ==============================================
# Get-Noticed - Production Terraform Variables
# ==============================================
# Copy this file to terraform.tfvars and fill in your production values
# NEVER commit terraform.tfvars to version control!
# ==============================================

# ==============================================
# General Configuration
# ==============================================
environment = "production"
aws_region  = "us-east-1"

# ==============================================
# VPC Configuration
# ==============================================
vpc_cidr           = "10.0.0.0/16"
availability_zones = ["us-east-1a", "us-east-1b", "us-east-1c"]

# ==============================================
# S3 Storage (must be globally unique)
# ==============================================
video_bucket_name = "get-noticed-videos-prod-YOUR_UNIQUE_ID"

# ==============================================
# CloudFront CDN
# ==============================================
# Custom domain for CDN (optional, leave empty for CloudFront default domain)
cdn_domain_name = "cdn.get-noticed.net"

# ACM Certificate ARN (must be in us-east-1 for CloudFront)
# Create certificate: AWS Console > Certificate Manager > Request Certificate
certificate_arn = "arn:aws:acm:us-east-1:YOUR_ACCOUNT_ID:certificate/YOUR_CERT_ID"

# ==============================================
# WAF (Web Application Firewall)
# ==============================================
# Rate limit: requests per 5 minutes per IP
waf_rate_limit = 2000

# ==============================================
# RDS Database (PostgreSQL)
# ==============================================
# Instance sizes: db.t3.micro (dev), db.t3.medium (prod), db.t3.large (high traffic)
db_instance_class = "db.t3.medium"
database_name     = "get_noticed_prod"
database_username = "getnoticed_admin"

# Generate secure password: openssl rand -base64 32
# CRITICAL: Use a strong password (min 32 chars, mixed case, numbers, symbols)
database_password = "GENERATE_SECURE_PASSWORD_MIN_32_CHARS"

# ==============================================
# ElastiCache (Redis)
# ==============================================
# Node types: cache.t3.micro (dev), cache.t3.medium (prod), cache.t3.large (high traffic)
redis_node_type = "cache.t3.medium"

# ==============================================
# ECS Container Images
# ==============================================
# Create ECR repositories first:
# aws ecr create-repository --repository-name get-noticed-api
# aws ecr create-repository --repository-name get-noticed-worker
# aws ecr create-repository --repository-name get-noticed-ai
# aws ecr create-repository --repository-name get-noticed-frontend

api_image      = "YOUR_ACCOUNT_ID.dkr.ecr.us-east-1.amazonaws.com/get-noticed-api:latest"
worker_image   = "YOUR_ACCOUNT_ID.dkr.ecr.us-east-1.amazonaws.com/get-noticed-worker:latest"
ai_image       = "YOUR_ACCOUNT_ID.dkr.ecr.us-east-1.amazonaws.com/get-noticed-ai:latest"
frontend_image = "YOUR_ACCOUNT_ID.dkr.ecr.us-east-1.amazonaws.com/get-noticed-frontend:latest"

# ==============================================
# ECS Resources
# ==============================================
# API Service (handles HTTP requests)
api_cpu    = 512   # 0.5 vCPU (256, 512, 1024, 2048, 4096)
api_memory = 1024  # 1 GB (512, 1024, 2048, 4096, 8192)

# Worker Service (background video processing)
worker_cpu    = 1024  # 1 vCPU
worker_memory = 2048  # 2 GB

# ==============================================
# Secrets - CRITICAL: Generate secure values!
# ==============================================
# Generate with: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
# Or use: openssl rand -hex 64

jwt_secret         = "GENERATE_64_BYTE_HEX_SECRET_FOR_JWT"
jwt_refresh_secret = "GENERATE_64_BYTE_HEX_SECRET_FOR_REFRESH"
encryption_key     = "GENERATE_64_BYTE_HEX_SECRET_FOR_ENCRYPTION"

# SMTP password (from SendGrid, Mailgun, AWS SES, etc.)
smtp_password = "YOUR_SMTP_API_KEY_OR_PASSWORD"

# ==============================================
# CloudFront Signed URLs
# ==============================================
# Generate CloudFront key pair in AWS Console:
# 1. Go to CloudFront > Public keys
# 2. Create a new key pair
# 3. Download and save the private key securely

cloudfront_key_pair_id = "KXXXXXXXXXXXXXXXXXX"
cloudfront_private_key = <<-EOT
-----BEGIN RSA PRIVATE KEY-----
YOUR_CLOUDFRONT_PRIVATE_KEY_CONTENT
PASTE_THE_ENTIRE_KEY_HERE
-----END RSA PRIVATE KEY-----
EOT

# ==============================================
# Monitoring & Alerts
# ==============================================
alarm_email = "ops-team@get-noticed.net"

# ==============================================
# PRE-DEPLOYMENT CHECKLIST
# ==============================================
# Before running terraform apply:
#
# 1. Create Terraform state bucket:
#    aws s3 mb s3://get-noticed-terraform-state --region us-east-1
#    aws s3api put-bucket-versioning --bucket get-noticed-terraform-state --versioning-configuration Status=Enabled
#
# 2. Create DynamoDB table for state locking:
#    aws dynamodb create-table --table-name terraform-locks \
#      --attribute-definitions AttributeName=LockID,AttributeType=S \
#      --key-schema AttributeName=LockID,KeyType=HASH \
#      --billing-mode PAY_PER_REQUEST
#
# 3. Create ACM certificate for your domain in us-east-1
#
# 4. Create ECR repositories for all container images
#
# 5. Generate and save all secrets securely
#
# 6. Run: terraform init
# 7. Run: terraform plan -out=tfplan
# 8. Review the plan carefully
# 9. Run: terraform apply tfplan
# ==============================================
